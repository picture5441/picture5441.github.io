"use strict";(()=>{var ne=Object.create;var it=Object.defineProperty,ae=Object.defineProperties,le=Object.getOwnPropertyDescriptor,ce=Object.getOwnPropertyDescriptors,me=Object.getOwnPropertyNames,yt=Object.getOwnPropertySymbols,ue=Object.getPrototypeOf,ht=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var st=(t,e,r)=>e in t?it(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,v=(t,e)=>{for(var r in e||(e={}))ht.call(e,r)&&st(t,r,e[r]);if(yt)for(var r of yt(e))pe.call(e,r)&&st(t,r,e[r]);return t},N=(t,e)=>ae(t,ce(e));var fe=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!="undefined"?require:e)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var de=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ee=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of me(e))!ht.call(t,s)&&s!==r&&it(t,s,{get:()=>e[s],enumerable:!(o=le(e,s))||o.enumerable});return t};var bt=(t,e,r)=>(r=t!=null?ne(ue(t)):{},Ee(e||!t||!t.__esModule?it(r,"default",{value:t,enumerable:!0}):r,t));var At=(t,e,r)=>(st(t,typeof e!="symbol"?e+"":e,r),r);var Gt=de((Es,$t)=>{$t.exports=ir;function ir(t,e,r,o){var s,i,n;return function(){if(n=this,i=Array.prototype.slice.call(arguments),s&&(r||o))return;if(!r)return c(),s=setTimeout(l,e),s;s=setTimeout(c,e),t.apply(n,i);function l(){c(),t.apply(n,i)}function c(){clearTimeout(s),s=null}}}});var I=class{static activateAlerts(){this.alertsActivated=!0}static alert(e,r){if(this.alertsActivated&&window.alert(e),r==="error")throw new Error(e)}};At(I,"alertsActivated",!1);var Ct={wrapper:"w-dyn-list",list:"w-dyn-items",item:"w-dyn-item",paginationWrapper:"w-pagination-wrapper",paginationNext:"w-pagination-next",paginationPrevious:"w-pagination-previous",pageCount:"w-page-count",emptyState:"w-dyn-empty"},R={formBlock:"w-form",checkboxField:"w-checkbox",checkboxInput:"w-checkbox-input",radioField:"w-radio",radioInput:"w-radio-input",checkboxOrRadioLabel:"w-form-label",checkboxOrRadioFocus:"w--redirected-focus",checkboxOrRadioChecked:"w--redirected-checked",successMessage:"w-form-done",errorMessage:"w-form-fail"};var O=(t,e)=>(Array.isArray(e)||(e=[e]),e.map(o=>t.dispatchEvent(new Event(o,{bubbles:!0}))).every(o=>o));var{radioInput:Te,checkboxOrRadioFocus:ge,checkboxOrRadioChecked:Se}=R,nt=(t,e=[])=>{let{type:r}=t;if(t instanceof HTMLInputElement&&["checkbox","radio"].includes(r)){if(!t.checked||(t.checked=!1,O(t,["click","input","change"].filter(i=>!e.includes(i))),r==="checkbox"))return;let{parentElement:o}=t;if(!o)return;let s=o.querySelector(`.${Te}`);if(!s)return;s.classList.remove(ge,Se);return}t.value="",O(t,["input","change"].filter(o=>!e.includes(o)))};var at=(t,e=!0)=>t.cloneNode(e);var F=(t,e)=>!!t&&e.includes(t);function P(t,e,r,o=!0){let s=r?[r]:[];if(!t)return s;let i=t.split(",").reduce((n,a)=>{let l=a.trim();return(!o||l)&&n.push(l),n},[]);if(e){let n=i.filter(a=>F(a,e));return n.length?n:s}return i}var lt=t=>Object.entries(t);var z=t=>!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length);var G=(t,e)=>t.every(r=>e.includes(r))&&e.every(r=>t.includes(r));var k=(t,e)=>{let{type:r}=t,o=r==="radio";if(o||r==="checkbox"){if(!(t instanceof HTMLInputElement)||typeof e!="boolean"||e===t.checked||o&&e===!1)return;t.checked=e}else{if(t.value===e)return;t.value=e.toString()}O(t,["click","input","change"])};var Y=t=>t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement;var ct=t=>t!=null;function V(t){return t==null?void 0:t.trim().toLowerCase()}var q=async()=>{let{fsAttributes:t}=window;t.cms||(t.cms={});let{cms:e}=t;if(e.coreImport)return e.coreImport;try{let r=import("https://cdn.jsdelivr.net/npm/@finsweet/attributes-cmscore@1/cmscore.js");return e.coreImport=r,r.then(o=>{o&&(e.coreVersion||(e.coreVersion=o.version))}),r}catch(r){I.alert(`${r}`,"error");return}};var ye="https://cdn.jsdelivr.net/npm/@finsweet/attributes-animation@1/functions.js",H=async()=>{let{fsAttributes:t}=window;if(t.animationImport)return t.animationImport;try{let e=import(ye);return t.animationImport=e,e}catch(e){I.alert(`${e}`,"error");return}};var $="fs-attributes";var xt="cmsattribute";var K="cmsfilter";var wt="queryparam";var he=`${$}-support`,be="https://cdn.jsdelivr.net/npm/@finsweet/attributes-support@1/support.js",Ft=async()=>{let{fsAttributes:t,location:e}=window,{host:r,searchParams:o}=new URL(e.href);if(!r.includes("webflow.io")||!o.has(he))return!1;if(t.supportImport)return t.supportImport;try{t.supportImport=new Promise((s,i)=>{let n=document.createElement("script");n.src=be,n.onload=()=>s(!0),n.onerror=i,document.head.append(n)})}catch(s){return!1}return t.supportImport};var mt=async(t,{durationKey:e,easingKey:r})=>{let o=await H();if(!o)return;let{animations:{fade:s},easings:i}=o,{listAnimation:n}=t,a=t.getAttribute(e),l=t.getAttribute(r);if(n&&!a&&!l)return;let c=F(l,i)?l:void 0,m=a?parseFloat(a)/2e3:.1;if(!n){t.listAnimation=N(v({},s),{options:{easing:c,duration:m}});return}let{options:u}=n;if(!u){n.options={easing:c,duration:m};return}u.easing||(u.easing=c),a&&(u.duration=m)};var w=t=>e=>`${t}${e?`-${e}`:""}`,W=t=>{let e=(o,s,i)=>{let n=t[o],{key:a,values:l}=n,c;if(!s)return`[${a}]`;let m=l==null?void 0:l[s];typeof m=="string"?c=m:c=m(i&&"instanceIndex"in i?i.instanceIndex:void 0);let u=i&&"caseInsensitive"in i&&i.caseInsensitive?"i":"";if(!(i!=null&&i.operator))return`[${a}="${c}"${u}]`;switch(i.operator){case"prefixed":return`[${a}^="${c}"${u}]`;case"suffixed":return`[${a}$="${c}"${u}]`;case"contains":return`[${a}*="${c}"${u}]`}};function r(o,s){let i=e("element",o,s),n=(s==null?void 0:s.scope)||document;return s!=null&&s.all?n.querySelectorAll(i):n.querySelector(i)}return[e,r]};var j={preventLoad:{key:`${$}-preventload`},debugMode:{key:`${$}-debug`},src:{key:"src",values:{finsweet:"@finsweet/attributes"}},dev:{key:`${$}-dev`}},[ut,qo]=W(j);var _t=t=>{let{currentScript:e}=document,r={};if(!e)return{attributes:r,preventsLoad:!1};let s={preventsLoad:typeof e.getAttribute(j.preventLoad.key)=="string",attributes:r};for(let i in t){let n=e.getAttribute(t[i]);s.attributes[i]=n}return s};var It=()=>{if(window.fsAttributes&&!Array.isArray(window.fsAttributes))return;let t={cms:{},push(...e){var r,o;for(let[s,i]of e)(o=(r=this[s])==null?void 0:r.loading)==null||o.then(i)}};Ae(t),Ce(t),window.fsAttributes=t,window.FsAttributes=window.fsAttributes,Ft()},Ae=t=>{let e=ut("src","finsweet",{operator:"contains"}),r=ut("dev"),s=[...document.querySelectorAll(`script${e}, script${r}`)].reduce((i,n)=>{var l;let a=n.getAttribute(j.dev.key)||((l=n.src.match(/[\w-. ]+(?=(\.js)$)/))==null?void 0:l[0]);return a&&!i.includes(a)&&i.push(a),i},[]);for(let i of s){t[i]={};let n=t[i];n.loading=new Promise(a=>{n.resolve=l=>{a(l),delete n.resolve}})}},Ce=t=>{let e=Array.isArray(window.fsAttributes)?window.fsAttributes:[];t.push(...e)};var vt="1.14.0";var y=`fs-${K}`,we="list",Fe="filters",_e="empty",Ie="initial",ve="results-count",Me="filter-results-count",Le="items-count",Re="tag-template",ke="tag-text",De="tag-remove",Ke="scroll-anchor",Ue="reset",Be="field",Ne="reset",Oe="match",Mt={any:"any",all:"all"},Pe="range",Lt={from:"from",to:"to"},Ve="type",He={date:"date"},$e="showquery",Ge={true:"true"},Ye="allowsubmit",qe={true:"true"},je="hideempty",Qe={true:"true"},ze="highlight",We={true:"true"},Xe="highlightclass",Je="active",Ze="debounce",tr="tagformat",er={category:"category"},rr="tagcategory",or="easing",sr="duration",_={element:{key:`${y}-element`,values:{list:w(we),filters:w(Fe),empty:w(_e),initial:w(Ie),resultsCount:w(ve),filterResultsCount:w(Me),itemsCount:w(Le),tagTemplate:w(Re),tagText:w(ke),tagRemove:w(De),scrollAnchor:w(Ke),reset:Ue}},field:{key:`${y}-${Be}`},reset:{key:`${y}-${Ne}`},match:{key:`${y}-${Oe}`,values:Mt},range:{key:`${y}-${Pe}`,values:Lt},type:{key:`${y}-${Ve}`,values:He},showQuery:{key:`${y}-${$e}`,values:Ge},allowSubmit:{key:`${y}-${Ye}`,values:qe},hideEmpty:{key:`${y}-${je}`,values:Qe},highlight:{key:`${y}-${ze}`,values:We},highlightCSS:{key:`${y}-${Xe}`},activeCSS:{key:`${y}-${Je}`},debouncing:{key:`${y}-${Ze}`},tagFormat:{key:`${y}-${tr}`},tagCategory:{key:`${y}-${rr}`},easing:{key:`${y}-${or}`},duration:{key:`${y}-${sr}`}},[D,b]=W(_),Rt=Object.values(Mt),kt={range:Object.values(Lt)},X=Object.values(er),Dt="fs-cmsfilter_highlight",Kt="fs-cmsfilter_active",Ut="50";var J=({filtersData:t})=>{for(let{elements:e}of t)for(let r of e){let{resultsCount:o,hidden:s,hideEmpty:i}=r;if(!i)continue;let n=o===0;n!==s&&(r.hidden=n,i.style.display=n?"none":"")}};var Bt=({props:t})=>{for(let e in t){let{elements:r,values:o,highlightData:s}=t[e];if(!!s)for(let i of o){let n=r.get(i);if(!n)continue;let{element:a,originalHTML:l}=n,c=s.get(i);if(!c){a.innerHTML=l;continue}let{filterValue:m,highlightCSSClass:u}=c,p=new RegExp(m||i,"gi");a.innerHTML=l.replace(p,`<span class="${u}">$&</span>`)}}},Nt=({props:t})=>{for(let e in t)t[e].highlightData=new Map};var Z=({resultsElement:t},{validItems:e})=>{!t||(t.textContent=`${e.length}`)},tt=({filtersData:t})=>{for(let{elements:e}of t)for(let{resultsElement:r,resultsCount:o}of e)!r||(r.textContent=`${o}`)},et=({filtersData:t},{validItems:e})=>{var o,s;let r={};for(let{elements:i,filterKeys:n}of t){if(n.length>1)continue;let[a]=n;r[a]||(r[a]={});for(let l of i)l.resultsCount=0,(o=r[a])[s=l.value]||(o[s]=[]),r[a][l.value].push(l)}for(let{props:i}of e)for(let n in i){let a=r[n];if(!a)continue;let{values:l}=i[n];for(let c of l){let m=a[c];if(!!m)for(let u of m)u.resultsCount+=1}}};var{field:{key:Ot},range:{key:Pt},type:{key:Vt}}=_,Ht=(t,e)=>{let{highlightResults:r,showFilterResults:o,hideEmptyFilters:s}=t;e.on("shouldcollectprops",i=>{for(let n of i)n.collectProps({fieldKey:Ot,rangeKey:Pt,typeKey:Vt})}),e.on("shouldfilter",async()=>await t.applyFilters(!0)),e.on("renderitems",i=>{if(Z(t,e),et(t,e),s&&J(t),o&&tt(t),r)for(let n of i)Bt(n)}),e.once("nestinitialitems").then(async i=>{for(let n of i)n.collectProps({fieldKey:Ot,rangeKey:Pt,typeKey:Vt});await t.applyFilters(!0),await e.renderItems(!0)})};var Et=bt(Gt(),1);var pt=({elements:t,values:e},r)=>{let o;r?(e.delete(r),o=t.filter(s=>s.value===r)):(e.clear(),o=t);for(let{element:s}of o)nt(s)};var ft=(t,e)=>{!t.closest(`.${Ct.item}`)||(t.id=`${t.id}-${e}`)};var M=(t,e,r)=>{var u,p;let{value:o}=t,{elements:s,values:i,mode:n}=e,{value:a,mode:l,type:c,activeCSSClass:m}=r;switch(c){case"checkbox":{let{checked:E}=t;if(!a)break;(u=t.parentElement)==null||u.classList[E?"add":"remove"](m),i[E?"add":"delete"](a);break}case"radio":{let{checked:E}=t;for(let{element:f,type:g}of s){if(g!=="radio")return!1;let d=f.checked;(p=f.parentElement)==null||p.classList[d?"add":"remove"](m)}if(!E||!a)break;i.clear(),i.add(a);break}default:{if(r.value=o,t.classList[o?"add":"remove"](m),n==="range"){let E=[...i];E[l==="from"?0:1]=o,E.some(f=>!!f)?e.values=new Set(E):i.clear();break}i.clear(),o&&i.add(o);break}}return!0};var{field:{key:nr},reset:{key:ar},range:{key:lr},match:{key:cr},tagFormat:{key:mr},tagCategory:{key:ur},hideEmpty:{key:pr,values:fr},highlight:{key:dr,values:Er},highlightCSS:{key:Tr},activeCSS:{key:gr},debouncing:{key:Sr}}=_,{checkboxField:yr,radioField:hr}=R,Yt=t=>{let e=t.querySelector("form"),r=t.querySelector('input[type="submit"]'),o=t.querySelectorAll(D("element","reset",{operator:"prefixed"})),s=new Map;for(let i of o){let n=i.getAttribute(ar),a=n?[...new Set(P(n))].map(l=>V(l)):[];s.set(i,a)}return{form:e,submitButton:r,resetButtonsData:s}},qt=(t,e,r,o,s)=>{let i=[];return t.querySelectorAll(D("field")).forEach((a,l)=>{let c=a.getAttribute(nr);if(!c)return;let m=[...new Set(P(c))],u=m.map(S=>V(S));if(!u.length)return;let p=br(a,m,u,e,r,o,s);if(!p)return;let[E,f]=p,g=i.find(S=>G(u,S.filterKeys)),d=g||N(v({},E),{elements:[]});g||i.push(d);let T=a.closest(`.${yr}, .${hr}`);if(T){let S=a instanceof HTMLInputElement,h=S?"true":a.textContent||"",x=S?a:T.querySelector("input");ft(x,l);let Q=b("filterResultsCount",{operator:"prefixed",scope:T}),B=a.getAttribute(pr)===fr.true?T:void 0,St=N(v({},f),{value:h,resultsElement:Q,hideEmpty:B,element:x,type:x.type});d.elements.push(St),M(x,d,St);return}if(!Y(a)||a.type==="submit")return;let{type:A,value:C}=a;ft(a,l);let L=N(v({},f),{element:a,type:A,value:C});d.elements.push(L),A==="select-one"&&M(a,d,L)}),i},br=(t,e,r,o,s,i,n)=>{let[a,l,c,m,u,p]=[cr,mr,gr,Sr,dr,Tr].map(U=>t.getAttribute(U)),E=F(a,Rt)?a:void 0,f=F(l,X)?l:void 0,g=t.getAttribute(ur),d=c||o,T=m?parseFloat(m):s,A=i||u===Er.true,C=p||n,L=t.getAttribute(lr),S,h;for(let[U,B]of lt(kt))if(F(L,B)){S=U,h=L;break}return[{match:E,filterKeys:r,originalFilterKeys:e,highlight:A,tagFormat:f,tagCategory:g,highlightCSSClass:C,mode:S,values:new Set},{activeCSSClass:d,debouncing:T,resultsCount:0,mode:h,hidden:!1}]};var Ar=Intl.DateTimeFormat(),dt=t=>{if(!!t)return new Date(Ar.format(new Date(t)))};var jt=t=>{if(!!t)return parseFloat(t.replace(/[^0-9.-]+/g,""))};var zt=(t,e,r,o)=>(o&&Nt(t),r?!0:e.every(s=>Cr(t,s))),Cr=(t,{filterKeys:e,values:r,match:o,mode:s,highlight:i,highlightCSSClass:n,elements:a})=>{if(typeof t.staticIndex=="number")return!0;let l=[...r];if(!l.length)return!0;let c=e.includes("*");c&&(e=Object.keys(t.props));let m=e.filter(u=>{let p=t.props[u];if(!p)return!1;let{values:E,highlightData:f,type:g,range:d}=p,T=[...E];if(!T.length)return!1;if(s==="range"){let[C]=T,[L,S]=l,h=Qt(C,L,S,g);return h&&i&&(f==null||f.set(C,{highlightCSSClass:n})),h}let A=l.filter(C=>{if(d==="from"||d==="to"){let[S,h]=T,x=Qt(C,S,h,g);return x&&i&&(f==null||f.set(S,{highlightCSSClass:n}),f==null||f.set(h,{highlightCSSClass:n})),x}return T.some(S=>{let h;if(g==="date"&&!c){let[x,Q]=[C,S].map(U=>{var B;return(B=dt(U))==null?void 0:B.getTime()});h=x===Q}else a.some(({type:x})=>!["checkbox","radio","select-one"].includes(x))||e.length>1?h=S.toLowerCase().includes(C.toLowerCase()):h=C.toLowerCase()===S.toLowerCase();return h&&i&&(f==null||f.set(S,{highlightCSSClass:n,filterValue:C})),h})});return o==="all"?A.length===l.length:A.length>0});return o==="all"?m.length===e.length:m.length>0},Qt=(t,e,r,o)=>{let[s,i,n]=[t,e,r].map(a=>o==="date"?dt(a):jt(a));return s?!e&&typeof n!="undefined"?s<=n:!r&&typeof i!="undefined"?s>=i:typeof n=="undefined"||typeof i=="undefined"?!1:s>=i&&s<=n:!1};var{location:Wt,history:xr}=window,Xt=t=>{let e=!1,{filtersData:r}=t,o=new URL(Wt.href),{searchParams:s}=o;for(let i of s){let n=V(i[0]),a=i[1],l=r.find(({filterKeys:p})=>p.length===1&&p.includes(n));if(!l)continue;let c=P(a,void 0,void 0,!1);if(!c.length)continue;e=!0;let{elements:m,mode:u}=l;if(u==="range"){let[p,E]=c,f=m.filter(({mode:d})=>d==="from"),g=m.filter(({mode:d})=>d==="to");if(p&&f.length)for(let d of f){let{element:T,type:A}=d;A==="checkbox"||A==="radio"?k(T,!0):k(T,p),M(T,l,d)}if(E&&g)for(let d of g){let{element:T,type:A}=d;A==="checkbox"||A==="radio"?k(T,!0):k(T,E),M(T,l,d)}continue}for(let p of c)for(let E of m){let{element:f,value:g,type:d}=E;if(g===p&&(d==="checkbox"||d==="radio"))k(f,!0);else if(!g&&d!=="checkbox"&&d!=="radio")k(f,p);else continue;M(f,l,E)}}return e},Jt=t=>{let e=new URL(Wt.href),{searchParams:r}=e;for(let{filterKeys:[o],values:s}of t){if(!s.size){r.delete(o);continue}let i=[...s].join(",");r.set(o,i)}xr.replaceState(null,"",e.toString())};var{field:{key:wr},range:{key:Fr},type:{key:_r}}=_,rt=class{constructor(e,r,{resultsElement:o,showQueryParams:s,allowSubmit:i,highlightAll:n,highlightCSSClass:a,activeCSSClass:l,debouncing:c}){this.formBlock=e;this.listInstance=r;this.restartingFilters=!1;let{form:m,submitButton:u,resetButtonsData:p}=Yt(e);this.form=m,this.submitButton=u,this.resetButtonsData=p,this.resultsElement=o,this.showQueryParams=s,this.allowSubmit=i,this.activeCSSClass=l,this.debouncing=c,this.highlightAll=n,this.highlightCSSClass=a,this.submitButtonVisible=!!u&&z(u),this.init()}async init(){let{listInstance:e,hideEmptyFilters:r,showFilterResults:o}=this;this.storeFiltersData();for(let s of e.items)s.collectProps({fieldKey:wr,rangeKey:Fr,typeKey:_r});Z(this,e),et(this,e),r&&J(this),o&&tt(this),Xt(this),await H(),this.applyFilters(),this.listenEvents()}async listenEvents(){let{form:e,resetButtonsData:r,submitButton:o}=this;e.addEventListener("submit",s=>this.handleSubmit(s)),e.addEventListener("input",s=>this.handleInputEvents(s));for(let[s,i]of r){s.addEventListener("click",()=>this.resetFilters(i));let n=s.closest(`.${R.radioField}`);if(!n)continue;let a=n.querySelector("input");!a||a.addEventListener("input",()=>{a.checked&&this.resetFilters(i)})}o&&window.addEventListener("resize",(0,Et.default)(()=>{this.submitButtonVisible=z(o)},50))}async handleInputEvents({target:e}){let{submitButtonVisible:r,filtersData:o,restartingFilters:s}=this;if(!Y(e))return;let i,n=o.find(({elements:c})=>(i=c.find(m=>m.element===e),i));if(!n||!i||!M(e,n,i)||s||r)return;let{debouncing:l}=i;this.debouncedApplyFilters||(this.debouncedApplyFilters=(0,Et.default)(this.applyFilters,l)),await this.debouncedApplyFilters()}async handleSubmit(e){this.allowSubmit||(e.preventDefault(),e.stopImmediatePropagation()),await this.applyFilters()}async toggleFiltersState(e){let{listInstance:r,filtersActive:o}=this,s=!e;o!==s&&(this.filtersActive=s,r.initialElement&&(await r.displayElement(s?"initialElement":"wrapper",!1,!1),await r.displayElement(s?"wrapper":"initialElement",!0,o!==void 0)))}async applyFilters(e,r=!0){this.debouncedApplyFilters=void 0;let{listInstance:o,filtersData:s,filtersActive:i,highlightResults:n,tagsInstance:a,showQueryParams:l}=this,{items:c,initialElement:m}=o,u=s.every(({values:p})=>!p.size);if(u&&!i){await this.toggleFiltersState(u);return}for(let p of c)p.valid=zt(p,s,u,n);e||(await o.switchPage(1,!1),o.scrollToAnchor(),l&&Jt(s),await Promise.all([(async()=>{u?(await this.toggleFiltersState(u),await o.renderItems(!1,!m)):(await o.renderItems(!1,!m),await this.toggleFiltersState(u))})(),(async()=>{r&&await(a==null?void 0:a.syncTags())})()]))}async resetFilters(e,r){this.restartingFilters=!0;let{filtersData:o}=this;if(!e||!e.length)for(let i of o)pt(i);else{let i=o.find(n=>G(n.filterKeys,e));if(!i)return;pt(i,r)}let s=!r;await this.applyFilters(!1,s),this.restartingFilters=!1}async addTagsInstance(e){this.tagsInstance=e,await e.syncTags()}storeFiltersData(){let{form:e,activeCSSClass:r,debouncing:o,highlightAll:s,highlightCSSClass:i}=this,n=qt(e,r,o,s,i);return this.filtersData=n,this.showFilterResults=n.some(({elements:a})=>a.some(({resultsElement:l})=>l)),this.hideEmptyFilters=n.some(({elements:a})=>a.some(({hideEmpty:l})=>l)),this.highlightResults=n.some(({highlight:a})=>a),n}};var Tt=({values:t,textNode:e,filterData:{originalFilterKeys:r,mode:o,tagFormat:s,tagCategory:i}},n)=>{let a=i||r.join(", "),l;o==="range"?l=`[${t.map(m=>m||"--").join(", ")}]`:[l]=t;let c;l==="true"?c=a:(s||n)==="category"?c=`${a}: ${l}`:c=l,e.textContent=c},Zt=t=>!!b("tagRemove",{operator:"prefixed",scope:t});var ot=class{constructor(e,r,o,s){this.template=e;this.filtersInstance=r;this.listInstance=o;this.globalTagsFormat=s;this.tagsData=[];this.hasRemoveTrigger=!1;this.wrapper=e.parentElement||I.alert("The tags have no parent wrapper.","error"),this.init()}init(){let{template:e,wrapper:r}=this;e.remove(),this.hasRemoveTrigger=Zt(e),r.addEventListener("click",o=>this.handleClick(o))}handleClick(e){let{target:r}=e;if(!(r instanceof Element))return;let{hasRemoveTrigger:o,tagsData:s,listInstance:i}=this,n=r.closest(D("element","tagTemplate",{instanceIndex:i.getInstanceIndex(_.element.key)}));if(!n)return;let a=r.closest(D("element","tagRemove",{operator:"prefixed"}));if(o&&!a)return;let l=s.find(({element:c})=>c===n);l&&this.removeTag(l,!0)}async addTag(e,r){let{wrapper:o,template:s,tagsData:i,globalTagsFormat:n,listInstance:{listAnimation:a}}=this,l=at(s),c=b("tagText",{operator:"prefixed",scope:l})||l,m={element:l,values:r,textNode:c,filterData:e};if(Tt(m,n),i.push(m),a){let{animateIn:u,options:p}=a;await u(l,v({target:o},p))}else l.style.opacity="1",o.appendChild(l)}async updateTag(e,r){let{globalTagsFormat:o}=this;e.values=r,Tt(e,o)}async removeTag(e,r){let{element:o,values:s,filterData:{filterKeys:i}}=e,{tagsData:n,filtersInstance:a,listInstance:{listAnimation:l}}=this;this.tagsData=n.filter(c=>c!==e),await Promise.all([Promise.all(s.map(async c=>{if(r)return a.resetFilters(i,c)})),(async()=>{if(l){let{animateOut:c,options:m}=l;await c(o,v({remove:!0},m))}else o.remove()})()])}async syncTags(){let{tagsData:e,filtersInstance:{filtersData:r}}=this;await Promise.all(r.map(o=>{let{values:s,mode:i}=o,n=[...s],a=e.filter(m=>m.filterData===o);if(a.length===1&&(n.length===1||i==="range"&&n.length)){let[m]=a;this.updateTag(m,n);return}let l=[...n].filter(m=>!a.some(({values:u})=>u.includes(m))),c=a.filter(({values:m})=>m.every(u=>!n.includes(u)));return Promise.all([(async()=>i==="range"&&l.length?this.addTag(o,l):Promise.all(l.map(m=>this.addTag(o,[m]))))(),Promise.all(c.map(m=>this.removeTag(m)))])}))}};var{element:{key:te},duration:{key:Ir},easing:{key:vr},showQuery:{key:Mr,values:Lr},allowSubmit:{key:Rr,values:kr},tagFormat:{key:Dr},highlight:{key:Kr,values:Ur},highlightCSS:{key:Br},activeCSS:{key:Nr},debouncing:{key:Or}}=_,ee=t=>{var g,d;let e=t.getInstanceIndex(te),r=b("filters",{instanceIndex:e});if(!r)return;let o=r.closest(`.${R.formBlock}`);if(!o)return;let s=b("empty",{instanceIndex:e});s&&t.addEmptyElement(s);let i=b("initial",{instanceIndex:e});if(i&&(t.initialElement=i),!t.scrollAnchor){let T=b("scrollAnchor",{instanceIndex:e});T&&(t.scrollAnchor=T)}if(!t.itemsCount){let T=b("itemsCount",{instanceIndex:e});T&&t.addItemsCount(T)}let n=b("resultsCount",{instanceIndex:e}),a=t.getAttribute(Mr)===Lr.true,l=t.getAttribute(Rr)===kr.true,c=t.getAttribute(Kr)===Ur.true,m=t.getAttribute(Br)||Dt,u=t.getAttribute(Nr)||Kt,p=parseFloat(t.getAttribute(Or)||Ut),{fsAttributes:{cms:E}}=window;if(E.filtersInstances||(E.filtersInstances=[]),E.filtersInstances[e||0])return;let f=new rt(o,t,{resultsElement:n,showQueryParams:a,allowSubmit:l,highlightAll:c,highlightCSSClass:m,activeCSSClass:u,debouncing:p});return(g=E.filtersInstances)[d=e||0]||(g[d]=f),mt(t,{durationKey:Ir,easingKey:vr}),f},re=async(t,e)=>{let r=t.getInstanceIndex(te),o=b("tagTemplate",{instanceIndex:r});if(!o)return;let s=t.getAttribute(Dr),i=F(s,X)?s:void 0,n=new ot(o,e,t,i);return await e.addTagsInstance(n),n};var gt=async()=>{var o,s,i,n;let t=await q();if(!t)return[];await((o=window.fsAttributes[xt])==null?void 0:o.loading),await((s=window.fsAttributes[wt])==null?void 0:s.loading);let e=t.createCMSListInstances([D("element","list",{operator:"prefixed"})]),r=(await Promise.all(e.map(Pr))).filter(ct);return(n=(i=window.fsAttributes[K]).resolve)==null||n.call(i,r),r},Pr=async t=>{let e=ee(t);if(!!e)return Ht(e,t),await re(t,e),e};It();q();H();var oe,se;(oe=window.fsAttributes)[se=K]||(oe[se]={});var{preventsLoad:Vr}=_t(),ie=window.fsAttributes[K];ie.version=vt;Vr?ie.init=gt:(window.Webflow||(window.Webflow=[]),window.Webflow.push(gt));})();
